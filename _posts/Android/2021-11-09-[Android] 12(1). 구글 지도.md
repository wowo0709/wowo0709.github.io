---
layout: single
title: "[Android] 12(1). 구글 지도"
categories: ['Android']
---

<br>

## 구글 지도

구글 플레이 서비스의 `Google Maps API`를 사용하면 구글 지도 데이터를 기반으로 앱에 지도를 추가할 수 있습니다. 

구글 지도는 Google Maps Platform 서비스 중 하나이며 교통 정보 기반의 경로 찾기와 장소 정보, 검색 등의 기능을 제공합니다. 

이번 포스팅에서는 내 앱에 구글 지도를 추가하고 스마트폰의 위치를 검색해서 현재 위치를 마커로 표시하는 방법에 대해 알아봅니다. 

![image-20211109111628813](C:\Users\wjsdu\AppData\Roaming\Typora\typora-user-images\image-20211109111628813.png)

<br>

## 구글 지도 시작하기

안드로이드 스튜디오는 구글 지도를 쉽게 사용할 수 있도록 프로젝트 생성 시 프로젝트의 종류를 선택하는 메뉴에서 **Google Maps Activity**를 제공합니다. 

<br>

### 구글 플레이 서비스 SDK 설치하기

**Google Maps API**를 사용하려면 구글 플레이 서비스 SDK를 설치해야 합니다. 

[Welcome to Android Studio] 화면에서 하단의 [Configure] - [SDK Manager]를 클릭합니다. 안드로이드 스튜디오가 켜져 있는 상태라면 상단 메뉴의 [Tools] - [SDK Manager]를 클릭합니다. 

다음 그림처럼 [SDK Tools] 탭에서 Google Play services를 설치합니다. 

![image-20211109131613200](C:\Users\wjsdu\AppData\Roaming\Typora\typora-user-images\image-20211109131613200.png)

<br>

### Google Maps Activity로 시작하기

액티비티 선택 창에서 **Google Maps Activity**를 선택하고 프로젝트를 생성합니다. 

![image-20211109131822709](C:\Users\wjsdu\AppData\Roaming\Typora\typora-user-images\image-20211109131822709.png)

<br>

### Google Maps API 키 받기

구글 지도를 포함한 구글 플레이 서비스에 액세스하려면 구글 플레이 서비스의 API 키가 필요합니다. 

[Google Maps Activity]로 프로젝트를 생성하면 API 키가 있는 **google_maps_api.xml** 파일이 자동으로 생성됩니다. 

<br>

**1. 구글 API 키를 요청할 수 있는 주소로 이동**

[app] - [res] - [values] 디렉터리에 있는 google_maps_api.xml 파일에서 `https://` 로 시작하는 첫번째 URL을 복사해 웹 브라우저의 주소창에 붙여넣은 다음 이동합니다. 

로그인을 요청 화면이 보이면 구글 계정으로 로그인합니다. 

<br>

**2. API 키 만들기**

주소로 이동한 뒤 로그인까지 마치면 다음과 같이 Google Cloud Platform 콘솔 페이지가 열렸을 것입니다. 

애플리케이션 등록 화면에서 [프로젝트 만들기]를 선택하고 [계속]을 클릭합니다. 

![image-20211109132330240](C:\Users\wjsdu\AppData\Roaming\Typora\typora-user-images\image-20211109132330240.png)

그리고 다음 화면으로 이동하면 [API 키 만들기]를 클릭합니다. 

![image-20211109132400866](C:\Users\wjsdu\AppData\Roaming\Typora\typora-user-images\image-20211109132400866.png)

<br>

**3. 에뮬레이터에서 사용하기 위한 설정 변경**

정상적으로 진행되었다면 사용자 인증 정보 화면의 API 키 목록에 생성된 API키가 보입니다. 

목록 우측 끝에 보이는 연필 모양을 클릭해 수정 화면으로 들어간 뒤, [애플리케이션 제한사항]을 [없음]으로 변경한 다음 [저장]합니다. 

![image-20211109132536604](C:\Users\wjsdu\AppData\Roaming\Typora\typora-user-images\image-20211109132536604.png)

<br>

**4. API 키 사용하기**

이제 생성된 API 키를 복사하고, google_maps_api.xml 파일의 `<string name="google_maps_key">` 요소의 `YOUR_KEY_HERE`이라고 적힌 부분 대신에 붙여넣습니다. 

```xml
<string name="google_maps_key" templateMergeStrategy="preserve" translatable="false">AIzaSyA4OJ02IFMzzZtSw5pswhQWOz7AmKH5A48</string>
```

<br>

**5. 앱을 실행하고 확인하기**

앱을 빌드하고 시작하면 시드니에 마커가 표시된 지도를 표시합니다. 

<br>

<br>

## 구글 지도 코드 살펴보기

































