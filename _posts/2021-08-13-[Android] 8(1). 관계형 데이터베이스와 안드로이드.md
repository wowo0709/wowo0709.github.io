---
layout: single
title: "[Android] 8(1). 관계형 데이터베이스와 안드로이드"
---

<br>

# 관계형 데이터베이스와 안드로이드

안드로이드에서 사용하는 SQLite는 관계형 데이터베이스입니다. 관계형 데이터베이스는 데이터의 저장 형태와 관계를 정의하는데, 컬럼(열)과 로우(행)가 있는 테이블(표)을 생각하면 됩니다. 

관계형 데이터베이스에서 실제 데이터가 저장되어 있는 테이블은 마치 엑셀의 시트와 같습니다. 

<br>

### <span style="color:rgb(93, 231, 116)">테이블과 쿼리 이해하기</span>

---

관계형 데이터베이스의 테이블과 쿼리에 대해 먼저 알아봅니다. 

<br>

**테이블**

테이블은 한 종류의 데이터가 저장되는 단위입니다. 예를 들어 앱에 [공지 사항]과 [묻고 답하기]라는 메뉴가 있다면 각각 1개의 테이블로 구성합니다. 

테이블에 저장되는 데이터의 속성은 컬럼(필드)으로 구분되고, 각 컬럼에 값이 채워진 한 줄의 데이터 단위를 로우(레코드, 튜플)라고 합니다. 

![image-20210812224221293](C:\Users\user\AppData\Roaming\Typora\typora-user-images\image-20210812224221293.png)

<br>

**쿼리 이해하기**

관계형 데이터베이스는 SQL<sup>Structured Query Language</sup>이라는 데이터를 정의, 조작, 제어하는 용도의 언어로 사용합니다. 이때 사용하는 명령어를 SQL 구문 또는 쿼리라고 합니다. 

쿼리로 테이블을 생성하거나 테이블에 읽고, 쓰고, 삭제할 수 있습니다. 

👍 **예시**

테이블 A에 있는 모든 데이터를 조회하는 쿼리는 다음과 같습니다. 

```sql
SELECT * FROM 테이블A 
```

- SELECT: 읽어와라
- *(애스터리스크): 전부
- FROM: 어디로부터
- 테이블 A: 테이블 A

즉, **테이블 A로부터 전부 읽어와라**라는 명령어입니다. 

<br>

이외에도 특정 컬럼을 지정해서 레코드를 읽어오고 싶다면 * 대신에 쉼표( , )로 구분하여 사용하고,

```sql
SELECT 컬럼1, 컬럼2, 컬럼3 FROM 테이블A
```

특정 레코드를 지정하고 싶다면 WHERE 구문을 사용합니다. 

```sql
SELECT * FROM WHERE no=2
```

두 식을 조합하여 특정 레코드의 특정 컬럼만 읽어올 수도 있습니다. 

```sql
SELECT 컬럼1 FROM 테이블A WHERE no=2
```

<br>

**쿼리의 종류**

쿼리는 테이블의 생성과 관련되는 DDL, 앞서 예로 든 SELECT와 같이 데이터를 읽고 쓰는 것과 관련된 DML, 그리고 모바일 용 데이터베이스에서는 잘 사용되지 않지만 권한을 처리하는 DCL, 이렇게 3가지로 분류할 수 있습니다. 

<br>

_1. DDL_

DDL<sup>Data Definition Language</sup>은 데이터의 구조를 정의하는 명령어입니다. 테이블을 생성하고 컬럼의 속성을 정의하는 일이 포함됩니다. 

| SQL          | 설명                                                         |
| ------------ | ------------------------------------------------------------ |
| CREATE TABLE | 테이블 생성<br />CREATE TABLE 테이블명 (컬럼 타입)           |
| DROP TABLE   | 테이블 삭제<br />DROP TABLE 테이블명                         |
| ALTER TABLE  | 테이블 수정(컬럼 수정, 추가, 삭제)<br />ALTER TABLE 테이블명 ADD COLUMN  컬럼 타입<br />ALTER TABLE 테이블명 MODIFY COLUMN 컬럼 타입<br />ALTER TABLE 테이블명 DROP COLUMN 컬럼 타입 |

<br>

_2. DML_

DML<sup>Data Manipulation Language</sup>은 데이터를 조작하는 명령어입니다. 가장 많이 사용되는 명령어이고 기본적으로 C(Create), R(Read), U(Update), D(Delete)에 해당하는 네 가지 명령어에 대한 이해가 필요합니다. 

| SQL    | 명령   | 설명                                                         |
| ------ | ------ | ------------------------------------------------------------ |
| SELECT | Read   | 데이터 조회<br />SELECT 컬럼 FROM 테이블명 WHERE 조건        |
| INSERT | Create | 데이터 삽입<br />INSERT INTO 테이블명 VALUES (데이터)        |
| UPDATE | Update | 데이터 수정<br />UPDATE 테이블명 SET 컬럼 = 데이터 WHERE 조건 |
| DELETE | Delete | 데이터 삭제<br />DELETE FROM 테이블명 WHERE 조건             |

<br>

_3. DCL_

DCL<sup>Data Control Language</sup>은 데이터를 조작하는 명령어로 혼동될 수 있지만, 사실은 데이터베이스 '권한'과 관련된 명령어입니다. 특정 유저에게 읽기와 쓰기 권한을 부여할 때 주로 사용합니다. 주로 Oracle, MSSQL, MySQL 같은 DBMS(데이터베이스 관리 시스템)에서 사용합니다. 

<br>

<br>

### <span style="color:rgb(93, 231, 116)">SQLite 데이터베이스</span>

---











<br>

<br>

### 정리

---

* 
